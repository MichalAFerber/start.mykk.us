/* --------------------------------------------------------------------------
   MyKK – Restore classic look on top of Missing.css + Bootstrap
   Order in <head>:
   1) missing.min.css
   2) bootstrap.min.css
   3) this custom.css (must come last)
   -------------------------------------------------------------------------- */

/* === Base & Resets (bring back Bootstrap feel) =========================== */
:root{
  /* quick theme knobs */
  --panel-bg: rgba(15, 15, 20, 0.78);
  --panel-border: rgba(255,255,255,0.08);
  --panel-shadow: 0 10px 40px rgba(0,0,0,.45);
  --ring: #66b2ff;
  --tile-size: 72px;
  --tile-gap: 18px;
  --radius-xl: 16px;
}

html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }

/* Prefer Bootstrap-ish system font stack (Missing.css uses its own) */
body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",
       Arial, "Noto Sans", "Liberation Sans", sans-serif; }

/* Keep visible focus, but make it subtle */
:focus-visible { outline: 2px solid var(--ring); outline-offset: 2px; }

/* Missing.css tweaks can occasionally restyle .btn/.form-control.
   Force Bootstrap baseline back where needed. */
.btn, .form-control, .form-select, .form-check-input {
  font: inherit;
}

/* ======================================================================== */
/* ==========  HEADER / SEARCH BAR  ======================================= */
/* ======================================================================== */

header { padding-block: 10px !important; }
#search-form {
  max-width: 980px;
  margin-inline: auto;
}
#search-input{
  width: 100%;
  height: 46px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.12);
  color: #fff;
  padding: 8px 16px 8px 48px; /* room for icon */
  backdrop-filter: blur(6px);
}
#search-input::placeholder{ color: rgba(255,255,255,.8); }
#search-input:focus{
  background: rgba(255,255,255,.16);
  border-color: rgba(255,255,255,.3);
  box-shadow: 0 0 0 .2rem rgba(102,178,255,.15);
}

/* Profile button/menu area */
.nav-right img#profile-pic{ border: 1px solid rgba(255,255,255,.25); }

/* Profile dropdown card look */
#profile-menu.card{
  background: var(--panel-bg);
  border: 1px solid var(--panel-border);
  box-shadow: var(--panel-shadow);
}
#profile-menu .btn-link{
  color: #ddd;
}
#profile-menu .btn-link:hover{
  color: #fff; background: rgba(255,255,255,.06);
}

/* ======================================================================== */
/* ==========  SHORTCUTS PANEL & TILES  =================================== */
/* ======================================================================== */

/* Make the section around #shortcuts a frosted panel */
main section[aria-labelledby="shortcuts-label"]{
  max-width: 1180px;
  margin: 28px auto 0;
  padding: 24px 22px;
  background: var(--panel-bg);
  border: 1px solid var(--panel-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--panel-shadow);
}

/* Grid spacing */
#shortcuts.row{
  --bs-gutter-x: var(--tile-gap);
  --bs-gutter-y: var(--tile-gap);
  justify-content: center;
}

/* Individual tile */
.shortcut {
  text-align: center;
  user-select: none;
  min-width: 110px;
}
.shortcut a { color: #cfd6ff; text-decoration: none; }
.shortcut a:hover { color: #fff; }

/* Icon circle */
.shortcut-circle{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: var(--tile-size);
  height: var(--tile-size);
  border-radius: 50%;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.1);
  box-shadow: 0 2px 10px rgba(0,0,0,.35) inset,
              0 8px 20px rgba(0,0,0,.25);
  transition: transform .12s ease, background .12s ease;
}
.shortcut:hover .shortcut-circle{ transform: translateY(-2px); background: rgba(255,255,255,.09); }

.shortcut-img{
  width: 36px; height: 36px; object-fit: contain; display: block;
}

/* Label under icon */
.shortcut-label{
  display: block;
  margin-top: 8px;
  font-size: .9rem;
  color: #b9c1d6;
  text-wrap: nowrap;
}

/* Three-dots + drag handle cluster under the tile */
.shortcut .drag-handle,
.shortcut .shortcut-dots{
  height: 28px; min-width: 28px; padding: 2px 6px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.06);
  color: #d7def1;
  cursor: pointer;
}
.shortcut .drag-handle{ touch-action: none; cursor: grab; }
.shortcut .drag-handle:active{ cursor: grabbing; }
.drag-ghost{ opacity: .75; }

/* Add tile button */
#addShortcutBtn{
  width: var(--tile-size); height: var(--tile-size);
  border-radius: 50%;
  border: 1px dashed rgba(255,255,255,.25);
  background: rgba(255,255,255,.05);
  color: #e8f0ff;
}

/* Context menu card */
#shortcutMenu.card{
  background: var(--panel-bg);
  border: 1px solid var(--panel-border);
  box-shadow: var(--panel-shadow);
}
#shortcutMenu .btn-link{
  color: #e5e9f7;
}
#shortcutMenu .btn-link:hover{
  color: #fff; background: rgba(255,255,255,.08);
}

/* ======================================================================== */
/* ==========  MODALS (dark)  ============================================== */
/* ======================================================================== */

.modal-content.bg-dark{
  background: #1a1d24;
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 14px;
  box-shadow: var(--panel-shadow);
}
.modal-header{ border-bottom-color: rgba(255,255,255,.08); }
.modal-footer{ border-top-color: rgba(255,255,255,.08); }

.form-control.bg-secondary.text-white,
.form-select.bg-secondary.text-white{
  background-color: #2b2f3a !important;
  color: #e6e6e6 !important;
  border-color: rgba(255,255,255,.15);
}
.form-control.bg-secondary.text-white:focus,
.form-select.bg-secondary.text-white:focus{
  border-color: rgba(255,255,255,.3);
  box-shadow: 0 0 0 .2rem rgba(102,178,255,.15);
}

/* ======================================================================== */
/* ==========  WEATHER BAR  =============================================== */
/* ======================================================================== */

/* --- Weather ribbon (full-width, fixed bottom) ---------------------------- */
#weather-container{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 10;

  max-width: none; margin: 0; border-radius: 0; border: 0;
  background: rgba(15, 15, 20, 0.80);
  backdrop-filter: blur(6px);
  color: #e6e6e6;
  box-shadow: 0 -6px 18px rgba(0,0,0,.35);

  /* clamp the ribbon height */
  height: 140px;            /* ← final ribbon height */
  min-height: 140px;
  padding: 10px 14px;
  overflow: hidden;

  /* respect mobile safe area */
  padding-bottom: calc(10px + env(safe-area-inset-bottom, 0px));
}

/* Keep page content clear of the ribbon */
main{ padding-bottom: 200px; }

/* Force the injected widget to the ribbon height */
#weather-container .weatherwidget-io,
#weather-container iframe{
  width: 100% !important;
  height: 120px !important;   /* slightly less than container to get padding */
  min-height: 120px !important;
  max-height: 120px !important;
  display: block !important;
  overflow: hidden !important;
}

/* Compact on narrow screens */
@media (max-width: 768px){
  #weather-container{
    height: 120px;
    min-height: 120px;
    padding: 8px 10px;
  }
  #weather-container .weatherwidget-io,
  #weather-container iframe{
    height: 100px !important;
    min-height: 100px !important;
    max-height: 100px !important;
  }
  main{ padding-bottom: 160px; }
}


/* Weather widget ribbon style */
#weather-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 999;
  display: flex;
  justify-content: center;
  background: rgba(0, 0, 0, 0.85); /* dark semi-transparent ribbon */
  padding: 0.5rem 1rem;
}

#weather-container .weatherwidget-io {
  width: 100% !important;
  max-width: 100% !important;
  border: none;
  margin: 0 auto;
}

#weather-container iframe {
  width: 100% !important;
  max-width: 100% !important;
  border: none !important;
}

/* Make it blend nicely with your other UI */
@media (max-width: 768px) {
  #weather-container {
    font-size: 0.85rem;
    padding: 0.25rem;
  }
}
